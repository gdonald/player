<div class="row mt-3">
  <div class="col">
    <h5>Edit Playlist</h5>
    <div class="card">
      <div class="card-body">
        <%= simple_form_for playlist, method: :patch, remote: true do |f| %>
          <div class="mb-3">
            <%= f.input :name, class: 'form-control' %>
          </div>
          <div>
            <%= f.submit 'Update', class: 'btn btn-primary btn-sm' %>
          </div>
        <% end %>
      </div>
    </div>

    <h5 class="mt-3">MP3s</h5>
    <table class="table table-striped table-hover table-bordered table-sm">
      <thead>
        <tr>
          <td>Album</td>
          <td>Artist</td>
          <td>Song</td>
          <td>Length</td>
          <td colspan="2">&nbsp;</td>
        </tr>
      </thead>
      <tbody>
        <% playlist.playlist_mp3s.each do |playlist_mp3| %>
          <tr>
            <td><%= playlist_mp3.mp3.album %></td>
            <td><%= playlist_mp3.mp3.artist %></td>
            <td><%= playlist_mp3.mp3.title %></td>
            <td><%= playlist_mp3.mp3.duration %></td>
            <td class="col-2">
              <% if playlist_mp3.first? %>
                <%= link_to 'Move Up', 'javascript:void(0);', method: :post, remote: true, class: "btn btn-secondary btn-sm" %>
              <% else %>
                <%= link_to 'Move Up', move_up_playlist_mp3_path(playlist_mp3), method: :post, remote: true, class: "btn btn-primary btn-sm" %>
              <% end %>

              <% if playlist_mp3.last? %>
                <%= link_to 'Move Down', 'javascript:void(0);', method: :post, remote: true, class: "btn btn-secondary btn-sm" %>
              <% else %>
                <%= link_to 'Move Down', move_down_playlist_mp3_path(playlist_mp3), method: :post, remote: true, class: "btn btn-primary btn-sm" %>
              <% end %>
            </td>
            <td>
              <%= link_to 'Delete', playlist_mp3_path(playlist_mp3), method: :delete, remote: true, class: "btn btn-primary btn-sm" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
